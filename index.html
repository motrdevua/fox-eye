<!doctype html>
<html lang="uk">

<head>
  <meta charset="utf-8" />
  <title>FOX-EYE</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <link rel="stylesheet" href="./css/maplibre-gl.css" />
  <link rel="stylesheet" href="./css/app.css" />
</head>

<body>


  <!-- HEADER -->
  <header class="header"></header>

  <!-- MAIN LAYOUT -->
  <div class="app">

    <div id="search-overlay" class="search-box__overlay">
      <canvas id="c"></canvas>
      <div class="search-box">
        <h2 class="search-box__title">
          <div id="fox" data-icon="fox"></div>
          FOX-EYE
          <span>(Alpha / Dev)</span>
        </h2>
        <button id="open-map-simple" class="search-box__btn btn-main"
          style="margin-top: 25px; padding: 10px 15px; cursor: pointer;">–í–Ü–î–ö–†–ò–¢–ò
          –ú–ê–ü–£</button>
        <div class="search-box__radio-group">
          <input id="city" class="search-box__radio" type="radio" name="search-type" value="city" checked />
          <label class="search-box__radio-label" for="city">–ù–ü</label>
          <input id="mgrs" class="search-box__radio" type="radio" name="search-type" value="mgrs" />
          <label class="search-box__radio-label" for="mgrs">MGRS</label>
        </div>
        <input class="search-box__input" type="text" id="search-input" placeholder="–í–í–ï–î–Ü–¢–¨ –ù–ê–ó–í–£ –ù–ü..." />
        <button id="search-btn" class="search-box__btn btn-main" data-icon="search">–ü–û–®–£–ö&nbsp;</button>

      </div>
    </div>

    <div id="map"></div>

    <div class="tools" id="tools">
      <span class="tools__desc">–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏</span>
      <div class="tools__selector">
        <button class="icon-btn tools__icon-btn" id="ruler" title="–õ—ñ–Ω—ñ–π–∫–∞" aria-label="–õ—ñ–Ω—ñ–π–∫–∞" data-tooltip="–õ—ñ–Ω—ñ–π–∫–∞"
          data-icon="ruler"></button>
        <button class="icon-btn tools__icon-btn" id="compass" title="–¶–∏—Ä–∫—É–ª—å" aria-label="–¶–∏—Ä–∫—É–ª—å"
          data-tooltip="–¶–∏—Ä–∫—É–ª—å" data-icon="compass"></button>
        <button class="icon-btn tools__icon-btn" id="scan" title="–°–∫–∞–Ω–µ—Ä –≤–∏—Å–æ—Ç (Area Scan)"
          aria-label="–°–∫–∞–Ω–µ—Ä –≤–∏—Å–æ—Ç (Area Scan)" data-tooltip="–°–∫–∞–Ω–µ—Ä –≤–∏—Å–æ—Ç (Area Scan)" data-icon="scan"></button>
        <button class="icon-btn tools__icon-btn" id="los" title="Line of Sight (–í–∏–¥–∏–º—ñ—Å—Ç—å)"
          aria-label="Line of Sight (–í–∏–¥–∏–º—ñ—Å—Ç—å)" data-tooltip="–í–∏–¥–∏–º—ñ—Å—Ç—å" data-icon="visible"></button>
        <button class="icon-btn tools__icon-btn" id="map-mode" title="–¢–∏–ø –º–∞–ø–∏" aria-label="–¢–∏–ø –º–∞–ø–∏"
          data-tooltip="–¢–∏–ø –º–∞–ø–∏" data-icon="map"></button>
        <button class="icon-btn tools__icon-btn" id="contours" title="–Ü–∑–æ–≥—ñ–ø—Å–∏" aria-label="–Ü–∑–æ–≥—ñ–ø—Å–∏"
          data-tooltip="–Ü–∑–æ–≥—ñ–ø—Å–∏" data-icon="izogips"></button>
      </div>

      <div>
        <span class="tools__desc">MGRS</span>
        <div class="tools__hint">
          <span id="live-coords" class="tools__live-coords">---</span>
        </div>
      </div>

      <div class="tools__selector">
        <button class="icon-btn tools__icon-btn" id="export" title="–ó–ë–ï–†–ï–ì–¢–ò" aria-label="–ó–ë–ï–†–ï–ì–¢–ò"
          data-tooltip="–ó–ë–ï–†–ï–ì–¢–ò" data-icon="download"></button>
        <button class="icon-btn tools__icon-btn" id="import" title="–ó–ê–í–ê–ù–¢–ê–ñ–ò–¢–ò" aria-label="–ó–ê–í–ê–ù–¢–ê–ñ–ò–¢–ò"
          data-tooltip="–ó–ê–í–ê–ù–¢–ê–ñ–ò–¢–ò" data-icon="upload"></button>
        <input class="tools__file" type="file" id="file" accept=".json" />
        <button class="icon-btn tools__icon-btn" id="clear" title="–û–ß–ò–°–¢–ò–¢–ò" aria-label="–û–ß–ò–°–¢–ò–¢–ò"
          data-tooltip="–û–ß–ò–°–¢–ò–¢–ò" data-icon="clear"></button>
        <button class="icon-btn tools__icon-btn" id="print" title="–î—Ä—É–∫ / –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è" aria-label="–î—Ä—É–∫ / –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è"
          data-tooltip="–î—Ä—É–∫ / –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è" data-icon="print"></button>
        <button class="icon-btn tools__icon-btn" id="help" title="–Ü–ù–°–¢–†–£–ö–¶–Ü–Ø" aria-label="–Ü–ù–°–¢–†–£–ö–¶–Ü–Ø"
          data-tooltip="–Ü–ù–°–¢–†–£–ö–¶–Ü–Ø" data-icon="help"></button>
      </div>

      <button class="btn-main tools__btn-main" id="reload" data-icon="reset">–ù–û–í–ò–ô –ü–û–®–£–ö&nbsp;</button>
    </div>

    <div id="infobar" class="infobar">–í–Ü–î–°–¢–ê–ù–¨: 0 –º</div>

    <div id="sidebar" class="sidebar is-hidden">
      <div class="sidebar__header">–†–ï–ó–£–õ–¨–¢–ê–¢–ò –°–ö–ê–ù–£–í–ê–ù–ù–Ø</div>
      <div id="points" class="sidebar__list points"></div>
      <button class="btn-main clear-points" id="clear-points" data-icon="clear">–û–ß–ò–°–¢–ò–¢–ò&nbsp;</button>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="footer"></footer>

  <!-- MODALS -->
  <div class="modals-wrapper">
    <div id="modal-prompt" class="modal-overlay">
      <div class="modal-content">
        <div class="modal__header" id="modal-prompt-title">–ó–ê–ü–ò–¢ –î–ê–ù–ò–•</div>
        <div style="padding: 12px">
          <p id="modal-prompt-text"></p>
          <input type="text" id="modal-prompt-input" class="main-input" />
          <div style="display: flex; gap: 10px">
            <button class="btn-main" id="modal-prompt-ok">–ü–Ü–î–¢–í–ï–†–î–ò–¢–ò</button>
            <button class="btn-main" id="modal-prompt-cancel">–°–ö–ê–°–£–í–ê–¢–ò</button>
          </div>
        </div>
      </div>
    </div>

    <div id="modal-alert" class="modal-overlay">
      <div class="modal-content">
        <div class="modal__header" style="color: var(--color-red); border-color: var(--main-color)">
          –£–í–ê–ì–ê!
        </div>
        <div style="padding: 20px; text-align: center">
          <p id="modal-alert-text" style="margin-bottom: 20px; color: var(--color-white)"></p>
          <button class=" btn-main" id="modal-alert-ok">–ó–†–û–ó–£–ú–Ü–õ–û</button>
        </div>
      </div>
    </div>

    <div id="modal-help" class="modal-overlay">
      <div class="modal-content" style="max-width: 500px">
        <div class="modal__header">–ö–û–†–û–¢–ö–ò–ô –î–û–í–Ü–î–ù–ò–ö</div>
        <div class="help-content"
          style="padding: 15px; font-family: var(--font-mono); font-size: 14px; max-height: 70vh; overflow-y: auto;">
          <div class="help-section" style="margin-bottom: 20px">
            <h3
              style="color: var(--color-yellow); border-bottom: 1px dashed #333; padding-bottom: 5px; margin-bottom: 10px;">
              üìè –õ–Ü–ù–Ü–ô–ö–ê</h3>
            <ul style="list-style: none; padding: 0; margin: 0; color: #ccc">
              <li>
                <b style="color: var(--main-color)">–õ–ö–ú (–ö–∞—Ä—Ç–∞)</b> ‚Äî –î–æ–¥–∞—Ç–∏ —Ç–æ—á–∫—É (WP)
              </li>
              <li>
                <b style="color: var(--main-color)">–õ–ö–ú (–¢–æ—á–∫–∞)</b> ‚Äî –ó–∞—Ç–∏—Å–Ω—É—Ç–∏ –π —Ç—è–≥–Ω—É—Ç–∏
              </li>
              <li>
                <b style="color: var(--color-red)">–ü–ö–ú (–¢–æ—á–∫–∞)</b> ‚Äî –í–∏–¥–∞–ª–∏—Ç–∏ —Ç–æ—á–∫—É
              </li>
            </ul>
          </div>

          <div class="help-section" style="margin-bottom: 20px">
            <h3
              style="color: var(--color-yellow); border-bottom: 1px dashed #333; padding-bottom: 5px; margin-bottom: 10px;">
              üéØ –¶–ò–†–ö–£–õ–¨ (–†–ê–î–Ü–£–°)</h3>
            <ul style="list-style: none; padding: 0; margin: 0; color: #ccc">
              <li>
                <b style="color: var(--main-color)">1-–π –ö–õ–Ü–ö</b> ‚Äî –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –¶–ï–ù–¢–†
              </li>
              <li>
                <b style="color: var(--main-color)">–†–£–• –ú–ò–®–Ü</b> ‚Äî –û–±—Ä–∞—Ç–∏ –¥–∏—Å—Ç–∞–Ω—Ü—ñ—é
              </li>
              <li>
                <b style="color: var(--main-color)">2-–π –ö–õ–Ü–ö</b> ‚Äî –ó–∞—Ñ—ñ–∫—Å—É–≤–∞—Ç–∏ –†–ê–î–Ü–£–°
              </li>
              <li>
                <b style="color: var(--color-red)">–ü–ö–ú</b> ‚Äî –°–ö–ê–°–£–í–ê–¢–ò (–ø—ñ–¥ —á–∞—Å –º–∞–ª—é–≤–∞–Ω–Ω—è)
              </li>
              <li>
                <i>* 3-–π –∫–ª—ñ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ—á–∏–Ω–∞—î –Ω–æ–≤–µ –∫–æ–ª–æ</i>
              </li>
            </ul>
          </div>

          <div class="help-section" style="margin-bottom: 20px">
            <h3
              style="color: var(--color-yellow); border-bottom: 1px dashed #333; padding-bottom: 5px; margin-bottom: 10px;">
              üì° –°–ö–ê–ù–ï–† –í–ò–°–û–¢</h3>
            <ul style="list-style: none; padding: 0; margin: 0; color: #ccc">
              <li>
                <b style="color: var(--main-color)">–õ–ö–ú (–ó–∞—Ç–∏—Å–Ω—É—Ç–∏)</b> ‚Äî –ü–æ—á–∞—Ç–æ–∫ –∑–æ–Ω–∏
              </li>
              <li>
                <b style="color: var(--main-color)">–¢–Ø–ì–ù–£–¢–ò</b> ‚Äî –í–∏–¥—ñ–ª–∏—Ç–∏ –∫–≤–∞–¥—Ä–∞—Ç
              </li>
              <li>
                <b style="color: var(--main-color)">–í–Ü–î–ü–£–°–¢–ò–¢–ò</b> ‚Äî –ü–æ—à—É–∫ –ø–∞–Ω—ñ–≤–Ω–∏—Ö –≤–∏—Å–æ—Ç
              </li>
            </ul>
          </div>

          <div class="help-section">
            <h3
              style="color: var(--color-yellow); border-bottom: 1px dashed #333; padding-bottom: 5px; margin-bottom: 10px;">
              üíæ –î–ê–ù–Ü</h3>
            <ul style="list-style: none; padding: 0; margin: 0; color: #ccc">
              <li><b>–ê–í–¢–û–ó–ë–ï–†–ï–ñ–ï–ù–ù–Ø</b> ‚Äî –ü—Ä–∞—Ü—é—î –ø–æ—Å—Ç—ñ–π–Ω–æ (F5 friendly)</li>
              <li>‚¨á ‚Äî –ó–±–µ—Ä–µ–≥—Ç–∏ —Ñ–∞–π–ª (JSON)</li>
              <li>‚¨Ü ‚Äî –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å–∏—Ç—É–∞—Ü—ñ—é</li>
            </ul>
          </div>
        </div>

        <div style="padding: 10px; text-align: right; border-top: 1px solid #333">
          <button id="close-help-btn" class="btn-main" style="width: 100%">–ó–†–û–ó–£–ú–Ü–õ–û</button>
        </div>
      </div>
    </div>
  </div>

  <script src="./js/vendor/maplibre-gl.js"></script>
  <script src="./js/vendor/mgrs.min.js"></script>
  <script src="./js/vendor/turf.min.js"></script>
  <script type="module" src="./js/app.js"></script>
</body>

</html>